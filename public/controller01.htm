
<!-- saved from url=(0062)https://shining-inferno-8791.firebaseapp.com/controller01.html -->
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta content="width=device-width, user-scalable=no" name="viewport">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
   <link rel="stylesheet" href="css/main.css">
   <link href="https://fonts.googleapis.com/css?family=Monoton" rel="stylesheet">
  <title>spartahack-2017</title>
  </head>
  <body>


	<div class="container">
    <div class="row allbuttons" style="text-align:center">
      <div class="col-md-4 text-center button"><br><br><br>
        <div class="row" >
            <h1 class="label"> Vocals </h1><br><br>
            <a class="myButton"  id="13" onclick="  handlevocal1();"></a> <!--Kick 1-->
            <a class="myButton"  id="14" onclick="  handlevocal2();"></a><!--Kick 2 -->
            <a class="myButton"  id="15" onclick="  handlevocal3();"></a>
        </div>
        <div class="row">
            <a class="myButton"  id="16" onclick="  handlevocal4();"></a> <!--Snare-->
            <a class="myButton"  id="17" onclick="  handlevocal5();"></a> <!--Clap-->
            <a class="myButton"  id="18" onclick="  handlevocal5();"></a>
        </div>
        <br><br><br>
      </div>
      <div class="col-md-4 button"><br><br><br>
        <div class="row">
          <h1 class="label"> Drums </h1><br><br>
            <a class="myButton"  id="1" onclick=" handledrum1();"></a> <!--Kick 1-->
            <a class="myButton"  id="2" onclick=" handledrum2();"></a><!--Kick 2 -->
            <a class="myButton"  id="3" onclick=" handledrum3();"></a>
        </div>
        <div class="row">
            <a class="myButton"  id="4" onclick="  handledrum4();"></a> <!--Snare-->
            <a class="myButton"  id="5" onclick="  handledrum5();"></a> <!--Clap-->
            <a class="myButton"  id="6" onclick="  handledrum6();"></a>
        </div><br><br><br>
      </div>
      <div class="col-md-4 button"><br><br><br>
        <div class="row">
          <h1 class="label"> Swag </h1><br><br>
            <a class="myButton" id="7" onclick="  handleinstrument1();"></a> <!--Kick 1-->
            <a class="myButton" id="8" onclick="  handleinstrument2();"></a><!--Kick 2 -->
            <a class="myButton"  id="9" onclick="  handleinstrument3();"></a>
        </div>
        <div class="row">
            <a class="myButton"  id="10" onclick="  handleinstrument4();"></a> <!--Snare-->
            <a class="myButton"  id="11" onclick="  handleinstrument5();"></a> <!--Clap-->
            <a class="myButton"  id="12" onclick="  handleinstrument6();"></a>
        </div><br><br><br>
      </div>


    </div>
	</div>

    <script src="/howlerconfig/howler.js-master/dist/howler.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.6.6/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyDDQw5tZVqBOznpnIpOE_g2L3DabTrK8Gs",
        authDomain: "spartahack-2017.firebaseapp.com",
        databaseURL: "https://spartahack-2017.firebaseio.com",
        storageBucket: "spartahack-2017.appspot.com",
        messagingSenderId: "900483113058"
      };
      firebase.initializeApp(config);
    </script>
    <script>
        var database = firebase.database().ref();
        // var buttonDrum1 = document.getElementById("drum1_4.wav");
        // var buttonDrum2 = document.getElementById("drum2_4.wav");
        // var buttonDrum3 = document.getElementById("drum3_4.wav");
        // var buttonDrum4 = document.getElementById("drum4_8.wav");
        // var buttonDrum5 = document.getElementById("drum5_8.wav");
        // var buttonDrum6 = document.getElementById("drum6_8.wav");
        // var buttonVocal1 = document.getElementById("vocal1_4.wav");
        // var buttonVocal2 = document.getElementById("vocal2_8.wav");
        // var buttonVocal3 = document.getElementById("vocal3_8.wav");
        // var buttonVocal4 = document.getElementById("vocal4_8.wav");
        // var buttonVocal5 = document.getElementById("vocal5_8.wav");
        // var buttonVocal6 = document.getElementById("vocal6_8.wav");
        // var buttonInstrument1 = document.getElementById("instrument1_8.wav");
        // var buttonInstrument2 = document.getElementById("instrument2_8.wav");
        // var buttonInstrument3 = document.getElementById("instrument3_8.wav");
        // var buttonInstrumentm4 = document.getElementById("instrument4_8.wav");
        // var buttonInstrument5 = document.getElementById("instrument5_4.wav");
        // var buttonInstrument6 = document.getElementById("instrument6_4.wav");
        // var buttonCrash = document.getElementById("crashElement");
        // var buttonLoop1 = document.getElementById("loop1Element");
        // var buttonLoop2 = document.getElementById("loop2Element");
        // var buttonmetronome = document.getElementById("metronomeon");
        // buttonDrum0.addEventListener("touchstart",handledrum0,false);
        // buttonDrum1.addEventListener("touchstart",handledrum1,false);
        // buttonDrum2.addEventListener("touchstart",handledrum2,false);


    function handledrum1(e){
        //e.preventDefault();
        database.push("1");


    }
    function handledrum2(e){
        //e.preventDefault();
        database.push("2");


    }
    function handledrum3(e){
        //e.preventDefault();
        database.push("3");

    }
    function handledrum4(e){
        //e.preventDefault();
        database.push("4");
        // myFirebaseRef.push("119");

    }
    function handledrum5(e){
        // e.preventDefault();
        database.push("5");

    }

    function handledrum6(e){
        //e.preventDefault();
        database.push("6");


    }
    function handleinstrument1(e){
        //e.preventDefault();
        database.push("7");


    }
    function handleinstrument2(e){
        //e.preventDefault();
        database.push("8");

    }
    function handleinstrument3(e){
        //e.preventDefault();
        database.push("9");
        // myFirebaseRef.push("119");

    }
    function handleinstrument4(e){
        // e.preventDefault();
        database.push("10");

    }

    function handleinstrument5(e){
        //e.preventDefault();
        database.push("11");


    }
    function handleinstrument6(e){
        //e.preventDefault();
        database.push("12");


    }
    function handlevocal1(e){
        //e.preventDefault();
        database.push("13");

    }
    function handlevocal2(e){
        //e.preventDefault();
        database.push("14");

    }function handlevocal3(e){
        //e.preventDefault();
        database.push("15");

    }function handlevocal4(e){
        //e.preventDefault();
        database.push("16");

    }function handlevocal5(e){
        //e.preventDefault();
        database.push("17");

    }function handlevocal6(e){
        //e.preventDefault();
        database.push("18");

    }






    // function handlecrash(e){
    //     e.preventDefault();
    //     // myFirebaseRef.push("101");
    //
    // }
    // function handleloop1(e){
    //     e.preventDefault();
    //     // myFirebaseRef.push("190");
    // }
    // function handleloop2(e){
    //     e.preventDefault();
    //     // myFirebaseRef.push("191");
    // }
    // function handlemetr(e){
    //     e.preventDefault();
    //     // myFirebaseRef.push("1");
    // }

    // function toggleColor(id) {
    //   var element = document.getElementById(id);
    //   console.log(element.style.backgroundColor);
    //   if (element.style.backgroundColor == "" || element.style.backgroundColor == "#ffffff" || element.style.backgroundColor == "rgb(255,255,255)") {
    //     element.style.backgroundColor = "#715bff";
    //   } else {
    //     element.style.backgroundColor = "";
    //   }
    //   // this.style.background = #000000;
    // }
    </script>
    <script type="text/javascript" src="libs/library/howler.js"></script>
    <script type="text/javascript" src="libs/library/howler.min.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.4.1/firebase.js"></script>


    <script>
        // firebase database refernce
        var myFirebaseRef = new Firebase("https://spartahack-2017.firebaseio.com/");


        var drum1_4 = new Howl({urls: ['/sounds/drum1_4.wav'],
                                loop: true});
        var drum2_4 = new Howl({urls: ['/sounds/drum2_4.wav'],
                                loop: true});
        var drum3_4 = new Howl({urls: ['/sounds/drum3_4.wav'],
                                loop: true});
        var drum4_8 = new Howl({urls: ['/sounds/drum4_8.wav'],
                                loop: true});
        var drum5_8 = new Howl({urls: ['/sounds/drum5_8.wav'],
                                loop: true});
        var drum6_8 = new Howl({urls: ['/sounds/drum5_8.wav'],
                                loop: true});

        var instrument1_8 = new Howl({urls: ['/sounds/instrument1_8.wav'],
                                loop: true});
        var instrument2_8 = new Howl({urls: ['/sounds/instrument2_8.wav'],
                                loop: true});
        var instrument3_8 = new Howl({urls: ['/sounds/instrument3_8.wav'],
                                loop: true});
        var instrument4_8 = new Howl({urls: ['/sounds/instrument4_8.wav'],
                                loop: true});
        var instrument5_4 = new Howl({urls: ['/sounds/instrument5_4.wav'],
                                loop: true});
        var instrument6_4 = new Howl({urls: ['/sounds/instrument5_4.wav'],
                                loop: true});

        var vocal1_4 = new Howl({urls: ['/sounds/vocal1_4.wav'],
                                loop: true});
        var vocal2_8 = new Howl({urls: ['/sounds/vocal2_8.wav'],
                                loop: true});
        var vocal3_8 = new Howl({urls: ['/sounds/vocal3_8.wav'],
                                loop: true});
        var vocal4_8 = new Howl({urls: ['/sounds/vocal4_8.wav'],
                                loop: true});
        var vocal5_8 = new Howl({urls: ['/sounds/vocal5_8.wav'],
                                loop: true});
        var vocal6_8 = new Howl({urls: ['/sounds/vocal5_8.wav'],
                                loop: true});

        var samples = []
        samples.push(drum1_4, drum2_4, drum3_4, drum4_8, drum5_8, drum6_8, instrument1_8, instrument2_8, instrument3_8, instrument4_8, instrument5_4, instrument6_4, vocal1_4, vocal2_8, vocal3_8, vocal4_8, vocal5_8, vocal6_8);

        var looping = false;

        setInterval(function () {
            for (item in ids) {
                item = ids[item];
                var number = parseInt(item-1);
                if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {

                } else {
                  samples[number].play();
              }

            }
                ids = [];

            }, 4000);

        var ids = [];
        var holdingIds = [];
        myFirebaseRef.on("child_added",function(soundback){
                         var soundid = soundback.val();
                         var element = document.getElementById(soundid);
                         console.log("ha");
                         if (element.style.backgroundColor == "" || element.style.backgroundColor == "#ffffff" || element.style.backgroundColor == "rgb(255,255,255)") {
                           element.style.backgroundColor = "#715bff";
                         } else {
                           element.style.backgroundColor = "";
                         }
                         if (samples[soundid-1]._playStart > 0)
                         {
                            console.log(samples[soundid-1]);
                            samples[soundid-1].stop();
                            samples[soundid-1]._playStart = 0;
                            console.log(samples[soundid-1]);
                         }
                         else
                         {
                            ids.push(soundid);
                         }
                         soundback.ref().remove();//remove child from node
                         });

        </script>

</body></html>
