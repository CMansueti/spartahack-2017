
<!-- saved from url=(0062)https://shining-inferno-8791.firebaseapp.com/controller01.html -->
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta content="width=device-width, user-scalable=no" name="viewport">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
   <link rel="stylesheet" href="css/main.css">
   <link href="https://fonts.googleapis.com/css?family=Monoton" rel="stylesheet">
  <title>spartahack-2017</title>
  </head>
  <body>


	<div class="container">
    <div class="row allbuttons" style="text-align:center">
      <div class="col-md-4 text-center button"><br><br><br>
        <div class="row" >
            <h1 class="label"> Vocals </h1><br><br>
            <a class="myButton" href="#" id="kick1Element" onclick="toggleColor(this.id); console.log(1);"></a> <!--Kick 1-->
            <a class="myButton" href="#" id="kick2Element" onclick="toggleColor(this.id); console.log(2);"></a><!--Kick 2 -->
            <a class="myButton" href="#" id="metronomeon" onclick="toggleColor(this.id); console.log(3);"></a>
        </div>
        <div class="row">
            <a class="myButton" href="#" id="snare1Element" onclick="toggleColor(this.id); console.log(4);"></a> <!--Snare-->
            <a class="myButton" href="#" id="clap1Element" onclick="toggleColor(this.id); console.log(5);"></a> <!--Clap-->
            <a class="myButton" href="#" id="metronomepause" onclick="toggleColor(this.id); console.log(6);"></a>
        </div>
        <br><br><br>
      </div>
      <div class="col-md-4 button"><br><br><br>
        <div class="row">
          <h1 class="label"> Drums </h1><br><br>
            <a class="myButton" href="#" id="bass1_4" onclick="toggleColor(this.id); handledrum0();"></a> <!--Kick 1-->
            <a class="myButton" href="#" id="cymbal_0" onclick="toggleColor(this.id); handledrum1();"></a><!--Kick 2 -->
            <a class="myButton" href="#" id="drum_4" onclick="toggleColor(this.id); handledrum2();"></a>
        </div>
        <div class="row">
            <a class="myButton" href="#" id="vocal_8" onclick="toggleColor(this.id); handledrum3();"></a> <!--Snare-->
            <a class="myButton" href="#" id="clap1Element" onclick="toggleColor(this.id); console.log(11);"></a> <!--Clap-->
            <a class="myButton" href="#" id="metronomepause" onclick="toggleColor(this.id); console.log(12);"></a>
        </div><br><br><br>
      </div>
      <div class="col-md-4 button"><br><br><br>
        <div class="row">
          <h1 class="label"> Bass </h1><br><br>
            <a class="myButton" href="#" id="kick1Element" onclick="toggleColor(this.id); handlechords8();"></a> <!--Kick 1-->
            <a class="myButton" href="#" id="kick2Element" onclick="toggleColor(this.id); console.log(14);"></a><!--Kick 2 -->
            <a class="myButton" href="#" id="metronomeon" onclick="toggleColor(this.id); console.log(15);"></a>
        </div>
        <div class="row">
            <a class="myButton" href="#" id="snare1Element" onclick="toggleColor(this.id); console.log(16);"></a> <!--Snare-->
            <a class="myButton" href="#" id="clap1Element" onclick="toggleColor(this.id); console.log(17);"></a> <!--Clap-->
            <a class="myButton" href="#" id="metronomepause" onclick="toggleColor(this.id); console.log(18);"></a>
        </div><br><br><br>
      </div>


    </div>
	</div>

    <script src="/howlerconfig/howler.js-master/dist/howler.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.6.6/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyDDQw5tZVqBOznpnIpOE_g2L3DabTrK8Gs",
        authDomain: "spartahack-2017.firebaseapp.com",
        databaseURL: "https://spartahack-2017.firebaseio.com",
        storageBucket: "spartahack-2017.appspot.com",
        messagingSenderId: "900483113058"
      };
      firebase.initializeApp(config);
    </script>
    <script>
        var database = firebase.database().ref();
        // var myFirebaseRef = new Firebase("https://spartahack-2017.firebaseio.com/");
        var buttonDrum0 = document.getElementById("bass1_4");
        var buttonDrum1 = document.getElementById("cymbal_4");
        var buttonDrum2 = document.getElementById("drum_4");
        var chords_8 = document.getElementById("chords_8");
        // var buttonClap1 = document.getElementById("clap1Element");
        var buttonDrum3 = document.getElementById("vocal_8");
        // var buttonCrash = document.getElementById("crashElement");
        // var buttonLoop1 = document.getElementById("loop1Element");
        // var buttonLoop2 = document.getElementById("loop2Element");
        // var buttonmetronome = document.getElementById("metronomeon");
        // buttonDrum0.addEventListener("touchstart",handledrum0,false);
        // buttonDrum1.addEventListener("touchstart",handledrum1,false);
        // buttonDrum2.addEventListener("touchstart",handledrum2,false);


    function handledrum0(e){
        //e.preventDefault();
        database.push("1");


    }
    function handledrum1(e){
        //e.preventDefault();
        database.push("2");


    }
    function handledrum2(e){
        //e.preventDefault();
        database.push("3");

    }
    function handlechords8(e){
        //e.preventDefault();
        database.push("4");
        // myFirebaseRef.push("119");

    }
    function handledrum3(e){
        // e.preventDefault();
        database.push("5");

    }
    // function handlecrash(e){
    //     e.preventDefault();
    //     // myFirebaseRef.push("101");
    //
    // }
    // function handleloop1(e){
    //     e.preventDefault();
    //     // myFirebaseRef.push("190");
    // }
    // function handleloop2(e){
    //     e.preventDefault();
    //     // myFirebaseRef.push("191");
    // }
    // function handlemetr(e){
    //     e.preventDefault();
    //     // myFirebaseRef.push("1");
    // }

    function toggleColor(id) {
      var element = document.getElementById(id);
      console.log(element.style.backgroundColor);
      if (element.style.backgroundColor == "" || element.style.backgroundColor == "#ffffff" || element.style.backgroundColor == "rgb(255,255,255)") {
        element.style.backgroundColor = "#715bff";
      } else {
        element.style.backgroundColor = "";
      }
      // this.style.background = #000000;
    }
    </script>
    <script type="text/javascript" src="libs/library/howler.js"></script>
    <script type="text/javascript" src="libs/library/howler.min.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.4.1/firebase.js"></script>


    <script>
        // firebase database refernce
        var myFirebaseRef = new Firebase("https://spartahack-2017.firebaseio.com/");


        var drum1_4 = new Howl({urls: ['/sounds/drum1_4.wav'],
                                loop: true});
        var drum2_4 = new Howl({urls: ['/sounds/drum2_4.wav'],
                                loop: true});
        var drum3_4 = new Howl({urls: ['/sounds/drum3_4.wav'],
                                loop: true});
        var drum4_8 = new Howl({urls: ['/sounds/drum4_8.wav'],
                                loop: false});
        var drum5_8 = new Howl({urls: ['/sounds/drum5_8.wav'],
                                loop: false});

        var instrument1_8 = new Howl({urls: ['/sounds/instrument1_8.wav'],
                                loop: false});
        var instrument2_8 = new Howl({urls: ['/sounds/instrument2_8.wav'],
                                loop: false});
        var instrument3_8 = new Howl({urls: ['/sounds/instrument3_8.wav'],
                                loop: false});
        var instrument4_8 = new Howl({urls: ['/sounds/instrument4_8.wav'],
                                loop: false});
        var instrument5_4 = new Howl({urls: ['/sounds/instrument5_4.wav'],
                                loop: true});

        var vocal1_4 = new Howl({urls: ['/sounds/vocal1_4.wav'],
                                loop: true});
        var vocal2_8 = new Howl({urls: ['/sounds/vocal2_8.wav'],
                                loop: false});
        var vocal3_8 = new Howl({urls: ['/sounds/vocal3_8.wav'],
                                loop: false});
        var vocal4_8 = new Howl({urls: ['/sounds/vocal4_8.wav'],
                                loop: false});
        var vocal5_8 = new Howl({urls: ['/sounds/vocal5_8.wav'],
                                loop: false});



        var looping = false;

        setInterval(function () {
            for (item in ids) {
                item = ids[item];
                console.log(item);

                if (item == "1") {      //1 is linked to hi-hat (49 keycode)
                    drum1_4.play();
                }
                else if (item == "2"){   //Q is linked to kick1 (113 keycode)
                    instrument3_8.play();
                }
                else if (item == "3") {//2 is linked to snare (50 keycode)
                    drum3_4.play();
                }
                else if (item == "10"){   //3 is linked to kick2 (51 keycode)
                    drum4_8.play();
                }
                else if (item == "5"){   //3 is linked to kick2 (51 keycode)
                    drum5_8.play();
                }
                else if (item == "6"){   //Q is linked to kick1 (113 keycode)
                    //instrument1_8.play();
                }
                else if (item == "7") {//2 is linked to snare (50 keycode)
                    instrument1_8.play();
                }
                else if (item == "8"){   //3 is linked to kick2 (51 keycode)
                    instrument2_8.play();
                }
                else if (item == "9"){   //3 is linked to kick2 (51 keycode)
                    instrument3_8.play();
                }
                else if (item == "4"){
                    instrument4_8.play();
                }
                else if (item == "11"){
                    instrument5_4.play();
                }
                else if (item == "12"){
                    //instrument4_8.play();
                }
                else if (item == "13") {//2 is linked to snare (50 keycode)
                    vocal1_4.play();
                }
                else if (item == "14"){   //3 is linked to kick2 (51 keycode)
                    vocal2_8.play();
                }
                else if (item == "15"){   //3 is linked to kick2 (51 keycode)
                    vocal3_8.play();
                }
                else if (item == "16"){
                    vocal4_8.play();
                }
                else if (item == "17"){
                    vocal5_8.play();
                }
                else if (item == "18"){
                    //vocal6.play();
                }
                    ids = [];
                }
            }, 4000);

        var ids = []
        myFirebaseRef.on("child_added",function(soundback){
                         var soundid = soundback.val();
                         ids.push(soundid);
                        //  soundback.ref().remove();//remove child from node
                         });

        </script>

</body></html>
