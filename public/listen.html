
<!DOCTYPE html>
<html>
<body>
    <!-- Primary Page Layout
     �������������������������������������������������� -->

<div class="one-half column" style="margin-top: 0%">
    <h4>The color of the rectangle signifies which instrument is playing. Red is drums</h4>
</div>
<p id="demo"></p>


        <!-- Included libraries -->
        <script type="text/javascript" src="libs/library/howler.js"></script>
        <script type="text/javascript" src="libs/library/howler.min.js"></script>
        <script src="https://cdn.firebase.com/js/client/2.4.1/firebase.js"></script>


        <script>
            // firebase database refernce
            var myFirebaseRef = new Firebase("https://spartahack-2017.firebaseio.com/");


            var drum1_4 = new Howl({urls: ['/sounds/drum1_4.wav'],
                                    loop: true});
            var drum2_4 = new Howl({urls: ['/sounds/drum2_4.wav'],
                                    loop: true});
            var drum3_4 = new Howl({urls: ['/sounds/drum3_4.wav'],
                                    loop: true});
            var drum4_8 = new Howl({urls: ['/sounds/drum4_8.wav'],
                                    loop: false});
            var drum5_8 = new Howl({urls: ['/sounds/drum5_8.wav'],
                                    loop: false});

            var instrument1_8 = new Howl({urls: ['/sounds/instrument1_8.wav'],
                                    loop: false});
            var instrument2_8 = new Howl({urls: ['/sounds/instrument2_8.wav'],
                                    loop: false});
            var instrument3_8 = new Howl({urls: ['/sounds/instrument3_8.wav'],
                                    loop: false});
            var instrument4_8 = new Howl({urls: ['/sounds/instrument4_8.wav'],
                                    loop: false});
            var instrument5_4 = new Howl({urls: ['/sounds/instrument5_4.wav'],
                                    loop: true});

            var vocal1_4 = new Howl({urls: ['/sounds/vocal1_4.wav'],
                                    loop: true});
            var vocal2_8 = new Howl({urls: ['/sounds/vocal2_8.wav'],
                                    loop: false});
            var vocal3_8 = new Howl({urls: ['/sounds/vocal3_8.wav'],
                                    loop: false});
            var vocal4_8 = new Howl({urls: ['/sounds/vocal4_8.wav'],
                                    loop: false});
            var vocal5_8 = new Howl({urls: ['/sounds/vocal5_8.wav'],
                                    loop: false});



            var looping = false;

            setInterval(function () {
                for (item in ids) {
                    item = ids[item];
                    console.log(item);

                    if (item == "1") {      //1 is linked to hi-hat (49 keycode)
                        drum1_4.play();
                    }
                    else if (item == "2"){   //Q is linked to kick1 (113 keycode)
                        instrument3_8.play();
                    }
                    else if (item == "3") {//2 is linked to snare (50 keycode)
                        drum3_4.play();
                    } 
                    else if (item == "10"){   //3 is linked to kick2 (51 keycode)
                        drum4_8.play();
                    } 
                    else if (item == "5"){   //3 is linked to kick2 (51 keycode)
                        drum5_8.play();
                    }
                    else if (item == "6"){   //Q is linked to kick1 (113 keycode)
                        //instrument1_8.play();
                    }
                    else if (item == "7") {//2 is linked to snare (50 keycode)
                        instrument1_8.play();
                    } 
                    else if (item == "8"){   //3 is linked to kick2 (51 keycode)
                        instrument2_8.play();
                    } 
                    else if (item == "9"){   //3 is linked to kick2 (51 keycode)
                        instrument3_8.play();
                    }
                    else if (item == "4"){
                        instrument4_8.play();
                    }
                    else if (item == "11"){
                        instrument5_4.play();
                    }
                    else if (item == "12"){
                        //instrument4_8.play();
                    }
                    else if (item == "13") {//2 is linked to snare (50 keycode)
                        vocal1_4.play();
                    } 
                    else if (item == "14"){   //3 is linked to kick2 (51 keycode)
                        vocal2_8.play();
                    } 
                    else if (item == "15"){   //3 is linked to kick2 (51 keycode)
                        vocal3_8.play();
                    }
                    else if (item == "16"){
                        vocal4_8.play();
                    }
                    else if (item == "17"){
                        vocal5_8.play();
                    }
                    else if (item == "18"){
                        //vocal6.play();
                    }
                        ids = [];
                    }
                }, 4000);

            var ids = []
            myFirebaseRef.on("child_added",function(soundback){
                             var soundid = soundback.val();
                             ids.push(soundid);
                             soundback.ref().remove();//remove child from node
                             });

            </script>
    </body>
</html>
